// src/App.tsx
import React from 'react';
import './App.css';
import { Routes, Route } from "react-router-dom";
import { AuthProvider } from './contexts/AuthContext';

// Import Pages and Layout Components
import HomePage from './pages/HomePage';
import PredictionPage from "./components/PredictionPage";
import WeatherAnalysis from './components/WeatherAnalysis';
import SoilHealth from './components/SoilHealth';
import Navbar from './components/Navbar';
import Footer from './components/Footer';
import Chatbot from './components/Chatbot';

// NOTE: All the state and functions (like handleLogin, fetchWeatherData, etc.)
// have been removed from this file. They should be moved into the components
// that actually use them (e.g., AuthContext, WeatherAnalysis, Chatbot).

const App = () => {
  return (
    <AuthProvider>
      {/* We removed the extra <Router> from here.
        We also DELETED the <meta>, <link>, and <style> tags.
        - <meta> and <title> go in public/index.html
        - <style> content goes in src/App.css
        - The Bootstrap/Font Awesome <link> tags are replaced by imports in index.tsx
      */}
      
      <Navbar />

      <main>
        <Routes>
          <Route path="/" element={<HomePage />} />
          <Route path="/prediction" element={<PredictionPage />} />
          <Route path="/weather-analysis" element={<WeatherAnalysis />} />
          <Route path="/soil-health" element={<SoilHealth />} />
        </Routes>
      </main>

      <Footer />
      <Chatbot />
    </AuthProvider>
  );
};

export default App;